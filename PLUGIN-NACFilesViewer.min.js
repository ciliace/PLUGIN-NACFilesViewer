/*! For license information please see PLUGIN-NACFilesViewer.min.js.LICENSE.txt */
(()=>{"use strict";const e=globalThis,t=e.ShadowRoot&&(void 0===e.ShadyCSS||e.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,n=Symbol(),i=new WeakMap;class r{constructor(e,t,i){if(this._$cssResult$=!0,i!==n)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const n=this.t;if(t&&void 0===e){const t=void 0!==n&&1===n.length;t&&(e=i.get(n)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),t&&i.set(n,e))}return e}toString(){return this.cssText}}const s=(n,i)=>{if(t)n.adoptedStyleSheets=i.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const t of i){const i=document.createElement("style"),r=e.litNonce;void 0!==r&&i.setAttribute("nonce",r),i.textContent=t.cssText,n.appendChild(i)}},o=t?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return(e=>new r("string"==typeof e?e:e+"",void 0,n))(t)})(e):e,{is:a,defineProperty:l,getOwnPropertyDescriptor:c,getOwnPropertyNames:h,getOwnPropertySymbols:u,getPrototypeOf:d}=Object,f=globalThis,p=f.trustedTypes,v=p?p.emptyScript:"",m=f.reactiveElementPolyfillSupport,g=(e,t)=>e,y={toAttribute(e,t){switch(t){case Boolean:e=e?v:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},w=(e,t)=>!a(e,t),b={attribute:!0,type:String,converter:y,reflect:!1,hasChanged:w};Symbol.metadata??=Symbol("metadata"),f.litPropertyMetadata??=new WeakMap;class x extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=b){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,t);void 0!==i&&l(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){const{get:i,set:r}=c(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get(){return i?.call(this)},set(t){const s=i?.call(this);r.call(this,t),this.requestUpdate(e,s,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??b}static _$Ei(){if(this.hasOwnProperty(g("elementProperties")))return;const e=d(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(g("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(g("properties"))){const e=this.properties,t=[...h(e),...u(e)];for(const n of t)this.createProperty(n,e[n])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const n=this._$Eu(e,t);void 0!==n&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(o(e))}else void 0!==e&&t.push(o(e));return t}static _$Eu(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EC(e,t){const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(void 0!==i&&!0===n.reflect){const r=(void 0!==n.converter?.toAttribute?n.converter:y).toAttribute(t,n.type);this._$Em=e,null==r?this.removeAttribute(i):this.setAttribute(i,r),this._$Em=null}}_$AK(e,t){const n=this.constructor,i=n._$Eh.get(e);if(void 0!==i&&this._$Em!==i){const e=n.getPropertyOptions(i),r="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:y;this._$Em=i,this[i]=r.fromAttribute(t,e.type),this._$Em=null}}requestUpdate(e,t,n){if(void 0!==e){if(n??=this.constructor.getPropertyOptions(e),!(n.hasChanged??w)(this[e],t))return;this.P(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(e,t,n){this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$Em!==e&&(this._$Ej??=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,n]of e)!0!==n.wrapped||this._$AL.has(t)||void 0===this[t]||this.P(t,this[t],n)}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&=this._$Ej.forEach((e=>this._$EC(e,this[e]))),this._$EU()}updated(e){}firstUpdated(e){}}x.elementStyles=[],x.shadowRootOptions={mode:"open"},x[g("elementProperties")]=new Map,x[g("finalized")]=new Map,m?.({ReactiveElement:x}),(f.reactiveElementVersions??=[]).push("2.0.4");const k=globalThis,A=k.trustedTypes,_=A?A.createPolicy("lit-html",{createHTML:e=>e}):void 0,$="$lit$",S=`lit$${(Math.random()+"").slice(9)}$`,F="?"+S,T=`<${F}>`,N=document,E=()=>N.createComment(""),U=e=>null===e||"object"!=typeof e&&"function"!=typeof e,C=Array.isArray,P=e=>C(e)||"function"==typeof e?.[Symbol.iterator],D="[ \t\n\f\r]",O=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,L=/-->/g,I=/>/g,V=RegExp(`>|${D}(?:([^\\s"'>=/]+)(${D}*=${D}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),j=/'/g,H=/"/g,M=/^(?:script|style|textarea|title)$/i,R=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),B=R(1),z=(R(2),Symbol.for("lit-noChange")),q=Symbol.for("lit-nothing"),G=new WeakMap,Z=N.createTreeWalker(N,129);function W(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==_?_.createHTML(t):t}const Y=(e,t)=>{const n=e.length-1,i=[];let r,s=2===t?"<svg>":"",o=O;for(let t=0;t<n;t++){const n=e[t];let a,l,c=-1,h=0;for(;h<n.length&&(o.lastIndex=h,l=o.exec(n),null!==l);)h=o.lastIndex,o===O?"!--"===l[1]?o=L:void 0!==l[1]?o=I:void 0!==l[2]?(M.test(l[2])&&(r=RegExp("</"+l[2],"g")),o=V):void 0!==l[3]&&(o=V):o===V?">"===l[0]?(o=r??O,c=-1):void 0===l[1]?c=-2:(c=o.lastIndex-l[2].length,a=l[1],o=void 0===l[3]?V:'"'===l[3]?H:j):o===H||o===j?o=V:o===L||o===I?o=O:(o=V,r=void 0);const u=o===V&&e[t+1].startsWith("/>")?" ":"";s+=o===O?n+T:c>=0?(i.push(a),n.slice(0,c)+$+n.slice(c)+S+u):n+S+(-2===c?t:u)}return[W(e,s+(e[n]||"<?>")+(2===t?"</svg>":"")),i]};class K{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let r=0,s=0;const o=e.length-1,a=this.parts,[l,c]=Y(e,t);if(this.el=K.createElement(l,n),Z.currentNode=this.el.content,2===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(i=Z.nextNode())&&a.length<o;){if(1===i.nodeType){if(i.hasAttributes())for(const e of i.getAttributeNames())if(e.endsWith($)){const t=c[s++],n=i.getAttribute(e).split(S),o=/([.?@])?(.*)/.exec(t);a.push({type:1,index:r,name:o[2],strings:n,ctor:"."===o[1]?te:"?"===o[1]?ne:"@"===o[1]?ie:ee}),i.removeAttribute(e)}else e.startsWith(S)&&(a.push({type:6,index:r}),i.removeAttribute(e));if(M.test(i.tagName)){const e=i.textContent.split(S),t=e.length-1;if(t>0){i.textContent=A?A.emptyScript:"";for(let n=0;n<t;n++)i.append(e[n],E()),Z.nextNode(),a.push({type:2,index:++r});i.append(e[t],E())}}}else if(8===i.nodeType)if(i.data===F)a.push({type:2,index:r});else{let e=-1;for(;-1!==(e=i.data.indexOf(S,e+1));)a.push({type:7,index:r}),e+=S.length-1}r++}}static createElement(e,t){const n=N.createElement("template");return n.innerHTML=e,n}}function J(e,t,n=e,i){if(t===z)return t;let r=void 0!==i?n._$Co?.[i]:n._$Cl;const s=U(t)?void 0:t._$litDirective$;return r?.constructor!==s&&(r?._$AO?.(!1),void 0===s?r=void 0:(r=new s(e),r._$AT(e,n,i)),void 0!==i?(n._$Co??=[])[i]=r:n._$Cl=r),void 0!==r&&(t=J(e,r._$AS(e,t.values),r,i)),t}class X{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,i=(e?.creationScope??N).importNode(t,!0);Z.currentNode=i;let r=Z.nextNode(),s=0,o=0,a=n[0];for(;void 0!==a;){if(s===a.index){let t;2===a.type?t=new Q(r,r.nextSibling,this,e):1===a.type?t=new a.ctor(r,a.name,a.strings,this,e):6===a.type&&(t=new re(r,this,e)),this._$AV.push(t),a=n[++o]}s!==a?.index&&(r=Z.nextNode(),s++)}return Z.currentNode=N,i}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class Q{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,i){this.type=2,this._$AH=q,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=J(this,e,t),U(e)?e===q||null==e||""===e?(this._$AH!==q&&this._$AR(),this._$AH=q):e!==this._$AH&&e!==z&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):P(e)?this.k(e):this._(e)}S(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.S(e))}_(e){this._$AH!==q&&U(this._$AH)?this._$AA.nextSibling.data=e:this.T(N.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:n}=e,i="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=K.createElement(W(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===i)this._$AH.p(t);else{const e=new X(i,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=G.get(e.strings);return void 0===t&&G.set(e.strings,t=new K(e)),t}k(e){C(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const r of e)i===t.length?t.push(n=new Q(this.S(E()),this.S(E()),this,this.options)):n=t[i],n._$AI(r),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class ee{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,i,r){this.type=1,this._$AH=q,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=r,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=q}_$AI(e,t=this,n,i){const r=this.strings;let s=!1;if(void 0===r)e=J(this,e,t,0),s=!U(e)||e!==this._$AH&&e!==z,s&&(this._$AH=e);else{const i=e;let o,a;for(e=r[0],o=0;o<r.length-1;o++)a=J(this,i[n+o],t,o),a===z&&(a=this._$AH[o]),s||=!U(a)||a!==this._$AH[o],a===q?e=q:e!==q&&(e+=(a??"")+r[o+1]),this._$AH[o]=a}s&&!i&&this.j(e)}j(e){e===q?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class te extends ee{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===q?void 0:e}}class ne extends ee{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==q)}}class ie extends ee{constructor(e,t,n,i,r){super(e,t,n,i,r),this.type=5}_$AI(e,t=this){if((e=J(this,e,t,0)??q)===z)return;const n=this._$AH,i=e===q&&n!==q||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,r=e!==q&&(n===q||i);i&&this.element.removeEventListener(this.name,this,n),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class re{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){J(this,e)}}const se={P:$,A:S,C:F,M:1,L:Y,R:X,D:P,V:J,I:Q,H:ee,N:ne,U:ie,B:te,F:re},oe=k.litHtmlPolyfillSupport;oe?.(K,Q),(k.litHtmlVersions??=[]).push("3.1.2");class ae extends x{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,n)=>{const i=n?.renderBefore??t;let r=i._$litPart$;if(void 0===r){const e=n?.renderBefore??null;i._$litPart$=r=new Q(t.insertBefore(E(),e),e,void 0,n??{})}return r._$AI(e),r})(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return z}}ae._$litElement$=!0,ae.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:ae});const le=globalThis.litElementPolyfillSupport;le?.({LitElement:ae}),(globalThis.litElementVersions??=[]).push("4.0.4");const ce=e=>(...t)=>({_$litDirective$:e,values:t});class he{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}const{I:ue}=se,de={},fe=(e,t=de)=>e._$AH=t,pe=ce(class extends he{constructor(){super(...arguments),this.key=q}render(e,t){return this.key=e,t}update(e,[t,n]){return t!==this.key&&(fe(e),this.key=t),n}}),ve=ce(class extends he{constructor(e){if(super(e),3!==e.type&&1!==e.type&&4!==e.type)throw Error("The `live` directive is not allowed on child or event bindings");if(!(e=>void 0===e.strings)(e))throw Error("`live` bindings can only contain a single expression")}render(e){return e}update(e,[t]){if(t===z||t===q)return t;const n=e.element,i=e.name;if(3===e.type){if(t===n[i])return z}else if(4===e.type){if(!!t===n.hasAttribute(i))return z}else if(1===e.type&&n.getAttribute(i)===t+"")return z;return fe(e),t}});var me,ge,ye,we,be,xe,ke,Ae,_e,$e,Se,Fe,Te,Ne,Ee,Ue,Ce,Pe,De,Oe,Le,Ie,Ve,je,He,Me,Re,Be,ze,qe,Ge,Ze,We,Ye,Ke,Je,Xe;function Qe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function et(e){return function(e){if(Array.isArray(e))return ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t,n){return t=st(t),function(e,t){if(t&&("object"===ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return it(e)}(e,nt()?Reflect.construct(t,n||[],st(e).constructor):t.apply(e,n))}function nt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nt=function(){return!!e})()}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(){return rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=st(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},rt.apply(this,arguments)}function st(e){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},st(e)}function ot(e,t){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ot(e,t)}function at(e,t,n){return(t=yt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ct(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function ct(e,t){if(e){if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(e,t):void 0}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ut(e){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function dt(){dt=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function h(e,t,n,i){var s=t&&t.prototype instanceof g?t:g,o=Object.create(s.prototype),a=new E(i||[]);return r(o,"_invoke",{value:S(e,n,a)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function w(){}var b={};c(b,o,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(U([])));k&&k!==n&&i.call(k,o)&&(b=k);var A=w.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function $(e,t){function n(r,s,o,a){var l=u(e[r],e,s);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==ut(h)&&i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,a)}))}a(l.arg)}var s;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return s=s?s.then(r,r):r()}})}function S(t,n,i){var r=d;return function(s,o){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===s)throw o;return{value:e,done:!0}}for(i.method=s,i.arg=o;;){var a=i.delegate;if(a){var l=F(a,i);if(l){if(l===m)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=p;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?v:f,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=v,i.method="throw",i.arg=c.arg)}}}function F(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,F(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var s=u(r,t.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,m;var o=s.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function U(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}throw new TypeError(ut(t)+" is not iterable")}return y.prototype=w,r(A,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:y,configurable:!0}),y.displayName=c(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},_($.prototype),c($.prototype,a,(function(){return this})),t.AsyncIterator=$,t.async=function(e,n,i,r,s){void 0===s&&(s=Promise);var o=new $(h(e,n,i,r),s);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(A),c(A,l,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=U,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;N(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:U(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function ft(e,t,n,i,r,s,o){try{var a=e[s](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function pt(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function o(e){ft(s,i,r,o,a,"next",e)}function a(e){ft(s,i,r,o,a,"throw",e)}o(void 0)}))}}function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,yt(i.key),i)}}function gt(e,t,n){return t&&mt(e.prototype,t),n&&mt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yt(e){var t=function(e,t){if("object"!=ut(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=ut(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ut(t)?t:String(t)}var wt=function(){function e(){vt(this,e),this.accessToken=null,this.id=0}var t,n,i,r,s,o,a,l,c;return gt(e,[{key:"fetchAccessToken",value:(c=pt(dt().mark((function e(){var t,n,i,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.location.ancestorOrigins&&window.location.ancestorOrigins.length>0?window.location.ancestorOrigins[0]:window.location.origin,n=t+"/generate-token",e.next=5,fetch(n);case 5:return i=e.sent,e.next=8,i.json();case 8:return r=e.sent,this.accessToken={access_token:r.token,apiURL:new URL(r.apiProvider).origin},e.abrupt("return",this.accessToken);case 13:e.prev=13,e.t0=e.catch(0),console.error("PLUGIN-NACFilesViewer: There was a problem retrieving the access token from the user context: ".concat(e.t0)),this.accessToken=null;case 17:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(){return c.apply(this,arguments)})},{key:"getAccessToken",value:(l=pt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.accessToken){e.next=3;break}return e.next=3,this.fetchAccessToken();case 3:return e.abrupt("return",this.accessToken);case 4:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getFilesStart",value:(a=pt(dt().mark((function e(t){var n,i,r,s,o,a,l,c,h,u,d,f,p,v,m,g,y,w,b;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccessToken();case 3:if(n=e.sent,!this.accessToken||!t){e.next=27;break}return o="".concat(n.apiURL,"/workflows/v2/instance/").concat(t,"/activity/startData"),a={Authorization:"Bearer ".concat(n.access_token)},e.next=9,fetch(o,{headers:a});case 9:if((l=e.sent).ok){e.next=12;break}throw new Error("Network error: ".concat(l.statusText));case 12:return e.next=14,l.json();case 14:return c=e.sent,e.next=17,this.getFormDefinition(c.workflow.id,c.workflow.published.id);case 17:for(m in h=e.sent,u=c.startData.se_form_variables,d=[],f=(null===(i=c.startData.ctx_user)||void 0===i?void 0:i.ctx_email)||"",p=(null===(r=c.startData.ctx_user)||void 0===r?void 0:r.ctx_first_name)||"Anonymous",v=(null===(s=c.startData.ctx_user)||void 0===s?void 0:s.ctx_last_name)||"",u)if(g=u[m],Array.isArray(g)&&g.every((function(e){return"object"===ut(e)&&null!==e&&e.hasOwnProperty("fileName")}))){y=lt(g);try{for(y.s();!(w=y.n()).done;)(b=w.value).fileName&&b.url&&d.push({id:++this.id,url:b.url,fileName:b.fileName,taskName:"",userEmail:f,userFirstName:p,userLastName:v,displayName:this.getControlDisplayName(h,m)||""})}catch(e){y.e(e)}finally{y.f()}}return e.abrupt("return",d);case 27:return e.abrupt("return",null);case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(0),console.error("PLUGIN-NACFilesViewer: There was a problem retrieving the files from start: ".concat(e.t0)),e.abrupt("return",null);case 34:case"end":return e.stop()}}),e,this,[[0,30]])}))),function(e){return a.apply(this,arguments)})},{key:"getFilesTasks",value:(o=pt(dt().mark((function e(t){var n,i,r,s,o,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccessToken();case 3:if(!(n=e.sent)||!t){e.next=19;break}return i="".concat(n.apiURL,"/workflows/v2/instance/").concat(t,"/activity"),r={Authorization:"Bearer ".concat(n.access_token)},e.next=9,fetch(i,{headers:r});case 9:if((s=e.sent).ok){e.next=12;break}throw new Error("Network error: ".concat(s.statusText));case 12:return e.next=14,s.json();case 14:return o=e.sent,a=this.processTaskHistoryAndAssignments(t,o),e.abrupt("return",a);case 19:return e.abrupt("return",null);case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(0),console.error("PLUGIN-NACFilesViewer: There was a problem retrieving the files from tasks: ".concat(e.t0)),e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,this,[[0,22]])}))),function(e){return o.apply(this,arguments)})},{key:"getControlDisplayName",value:function(e,t){var n=null;return e.formDefinition.rows.forEach((function(e){e.controls.forEach((function(e){e.properties.connectedVariableId===t&&(n=e.sourceVariable.displayName)}))})),n}},{key:"processTaskHistoryAndAssignments",value:(s=pt(dt().mark((function e(t,n){var i,r,s,o,a,l,c,h,u,d,f,p,v,m,g,y;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,i=[],r=n.taskHistory,s=[],o=lt(r);try{for(o.s();!(a=o.n()).done;){l=a.value,c=l.id,h=l.name,u=lt(l.assignments);try{for(u.s();!(d=u.n()).done;)"complete"===(f=d.value).status&&(p=f.id,v=f.resolvedBy.email||"",m=f.resolvedBy.firstName||"Anomymous",g=f.resolvedBy.lastName||"",s.push(this.getTaskAssignmentData(t,c,p,h,v,m,g)))}catch(e){u.e(e)}finally{u.f()}}}catch(e){o.e(e)}finally{o.f()}return e.next=8,Promise.all(s);case 8:return y=e.sent,i=y.flat(),e.abrupt("return",i);case 13:e.prev=13,e.t0=e.catch(0),console.error("PLUGIN-NACFilesViewer: Error processing task histories and assignments: ".concat(e.t0));case 16:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e,t){return s.apply(this,arguments)})},{key:"getFormDefinition",value:(r=pt(dt().mark((function e(t,n){var i,r,s,o,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccessToken();case 3:if(!(i=e.sent)){e.next=18;break}return r="".concat(i.apiURL,"/forms/api/v1/definitions/").concat(t,"/versions/").concat(n),s={Authorization:"Bearer ".concat(i.access_token)},e.next=9,fetch(r,{headers:s});case 9:if((o=e.sent).ok){e.next=12;break}throw new Error("Network error: ".concat(o.statusText));case 12:return e.next=14,o.json();case 14:return a=e.sent,e.abrupt("return",a);case 18:return e.abrupt("return",null);case 19:e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(0),console.error("PLUGIN-NACFilesViewer: There was a problem retrieving the files from start: ".concat(e.t0)),e.abrupt("return",null);case 25:case"end":return e.stop()}}),e,this,[[0,21]])}))),function(e,t){return r.apply(this,arguments)})},{key:"getTaskDefinition",value:(i=pt(dt().mark((function e(t,n){var i,r,s,o,a,l;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccessToken();case 3:if(!(i=e.sent)){e.next=19;break}return r=window.location.ancestorOrigins&&window.location.ancestorOrigins.length>0?window.location.ancestorOrigins[0]:window.location.origin,s="".concat(r,"/api/v2/form/Definition/taskForm/").concat(t,"_").concat(n,"?formMode=2"),o={Authorization:"Bearer ".concat(i.access_token),"X-Tenancy":window.location.hostname},e.next=10,fetch(s,{headers:o});case 10:if((a=e.sent).ok){e.next=13;break}throw new Error("Network error: ".concat(a.statusText));case 13:return e.next=15,a.json();case 15:return l=e.sent,e.abrupt("return",l);case 19:return e.abrupt("return",null);case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(0),console.error("PLUGIN-NACFilesViewer: There was a problem retrieving the files from start: ".concat(e.t0)),e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,this,[[0,22]])}))),function(e,t){return i.apply(this,arguments)})},{key:"getTaskAssignmentData",value:(n=pt(dt().mark((function e(t,n,i,r,s,o,a){var l,c,h,u,d,f,p,v,m,g,y,w,b,x,k;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccessToken();case 3:if(!(l=e.sent)||!t){e.next=22;break}return c="".concat(l.apiURL,"/workflows/v2/instance/").concat(t,"/task/").concat(n,"/assignment/").concat(i,"/startData"),h={Authorization:"Bearer ".concat(l.access_token)},e.next=9,fetch(c,{headers:h});case 9:if((u=e.sent).ok){e.next=12;break}throw new Error("Network error: ".concat(u.statusText));case 12:return e.next=14,u.json();case 14:return d=e.sent,f=d.workflowContext.variables,e.next=18,this.getTaskDefinition(n,i);case 18:for(m in p=e.sent,v=[],f)if(f.hasOwnProperty(m)&&m.endsWith("_form_variables"))for(y in g=f[m])if(w=g[y],Array.isArray(w)){b=lt(w);try{for(b.s();!(x=b.n()).done;)(k=x.value)&&"object"===ut(k)&&k.hasOwnProperty("url")&&k.hasOwnProperty("fileName")&&v.push({id:++this.id,url:k.url,fileName:k.fileName,taskName:r,userEmail:s,userFirstName:o,userLastName:a,displayName:this.getControlDisplayName(p,y)||""})}catch(e){b.e(e)}finally{b.f()}}return e.abrupt("return",v);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.error("PLUGIN-NACFilesViewer: There was a problem retrieving task assignment data: ".concat(e.t0));case 27:return e.abrupt("return",this.files);case 28:case"end":return e.stop()}}),e,this,[[0,24]])}))),function(e,t,i,r,s,o,a){return n.apply(this,arguments)})},{key:"getFile",value:(t=pt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("There was an error fetching the file '".concat(t,"': ").concat(n.statusText));case 6:return e.next=8,n.blob();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e){return t.apply(this,arguments)})},{key:"readFile",value:function(e){return new Promise((function(t,n){var i=new FileReader;i.onloadend=function(){t(i.result)},i.onerror=n,i.readAsDataURL(e)}))}}]),e}(),bt={en:{submittedBy:"Submitted by",fromTask:"from Task",fromStart:"from Start",category:"Category",notice:"Notice",noticeContent:"The files viewer is not available under the following conditions:",conditions:["In anonymous mode","In preview from the designer interface",'Within "My Nintex"','With limited "File Upload Storage" setting'],pleaseAdjust:"Please adjust your settings or access method to proceed.",fileNotSupported:"File type not supported",fileNotAvailable:"Files viewer not available",search:"Search...",task:"Task",fileTypeNotAvailable:"View not available for this file type",download:"Download",previewNotSupported:"Preview not supported"},fr:{submittedBy:"Transmis par",fromTask:"depuis la tâche",fromStart:"depuis le formulaire de démarrage",category:"Catégorie",notice:"A noter",noticeContent:"La visionneuse de fichiers n'est pas disponible dans les conditions suivantes :",conditions:["En mode anonyme","Dans l'aperçu de l'interface du designer",'Dans "My Nintex"','Avec le paramètre "File Upload Storage" limité'],pleaseAdjust:"Veuillez ajuster vos paramètres ou votre méthode d'accès pour continuer.",fileNotSupported:"Type de fichier non pris en charge",fileNotAvailable:"Visionneuse de fichiers non disponible",search:"Rechercher...",task:"Tâche",fileTypeNotAvailable:"Aperçu non disponible pour ce type de fichier",download:"Télécharger",previewNotSupported:"Aperçu non pris en charge"},de:{submittedBy:"Eingereicht von",fromTask:"aus Aufgabe",fromStart:"von Anfang an",category:"Kategorie",notice:"Hinweis",noticeContent:"Der Dateibetrachter ist unter den folgenden Bedingungen nicht verfügbar:",conditions:["Im anonymen Modus","In der Vorschau der Designer-Schnittstelle",'Innerhalb von "My Nintex"','Mit begrenzter Einstellung für "Datei-Upload-Speicher"'],pleaseAdjust:"Bitte passen Sie Ihre Einstellungen oder Zugriffsmethode entsprechend an.",fileNotSupported:"Dateityp wird nicht unterstützt",fileNotAvailable:"Dateibetrachter nicht verfügbar",search:"Suchen...",task:"Aufgabe",fileTypeNotAvailable:"Ansicht für diesen Dateityp nicht verfügbar",download:"Herunterladen",previewNotSupported:"Vorschau nicht unterstützt"},es:{submittedBy:"Enviado por",fromTask:"de la tarea",fromStart:"desde el inicio",category:"Categoría",notice:"Aviso",noticeContent:"El visor de archivos no está disponible en las siguientes condiciones:",conditions:["En modo anónimo","En vista previa desde la interfaz del diseñador",'Dentro de "My Nintex"','Con la configuración de "Almacenamiento de carga de archivos" limitada'],pleaseAdjust:"Ajuste sus configuraciones o método de acceso para continuar.",fileNotSupported:"Tipo de archivo no admitido",fileNotAvailable:"Visor de archivos no disponible",search:"Buscar...",task:"Tarea",fileTypeNotAvailable:"Vista no disponible para este tipo de archivo",download:"Descargar",previewNotSupported:"Vista previa no disponible"}},xt=function(e){function t(){var e;return vt(this,t),at(it(e=tt(this,t)),"handleFileChange",function(){var t=pt(dt().mark((function t(n){var i;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isFileSelectionDisabled=!0,e.requestUpdate(),e.selectedFileId=n.target.value,e.selectedFileData=e.files.find((function(t){return t.id==e.selectedFileId})),e.selectedFileUrl=e.selectedFileData.url,t.next=7,e.fileService.getFile(e.selectedFileUrl);case 7:if(!(i=t.sent)){t.next=16;break}return t.next=11,e.fileService.readFile(i);case 11:e.selectedFileContent=t.sent,e.selectedFileContentType=i.type,e.animateDetails(),t.next=18;break;case 16:return t.next=18,e.refreshFiles();case 18:e.isFileSelectionDisabled=!1,e.requestUpdate();case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),at(it(e),"handleUserFilterChange",function(){var t=pt(dt().mark((function t(n){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.selectedUser=n.target.value,t.next=3,e.handleFilterChange();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),at(it(e),"handleTaskFilterChange",function(){var t=pt(dt().mark((function t(n){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.selectedTask=n.target.value,t.next=3,e.handleFilterChange();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.isLoading=!1,e.isFileSelectionDisabled=!1,e.isAuthorized=!0,e.isDesigner=!1,e.showFilterPanel=!1,e.showDetailPanel=!1,e.Users=[],e.Tasks=[],e.files=[],e.filteredFiles=[],e.fileService=new wt,e.lang="en",e}var i,s,o,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ot(e,t)}(t,e),gt(t,[{key:"connectedCallback",value:(l=pt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rt(st(t.prototype),"connectedCallback",this).call(this),this.files=[],this.filteredFiles=[],this.instanceId&&(this.fromStart="Start"==this.includesFilesFrom||"Start and Tasks"==this.includesFilesFrom,this.fromTasks="Tasks"==this.includesFilesFrom||"Start and Tasks"==this.includesFilesFrom,this.fromSpecificTask=!(this.fromStart||this.fromTasks||!this.includesFilesFrom),this.loadFiles());case 4:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"t",value:function(e){return bt[this.lang][e]}},{key:"loadFiles",value:(a=pt(dt().mark((function e(){var t,n,i=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,this.requestUpdate(),e.next=4,this.fileService.getAccessToken();case 4:if(e.sent){e.next=9;break}return this.isAuthorized=!1,this.requestUpdate(),e.abrupt("return");case 9:if(!this.fromStart){e.next=13;break}return e.next=12,this.fileService.getFilesStart(this.instanceId);case 12:this.files=e.sent;case 13:if(!this.fromTasks&&!this.fromSpecificTask){e.next=20;break}return e.t0=this.files,e.next=17,this.fileService.getFilesTasks(this.instanceId);case 17:e.t1=e.sent,this.files=e.t0.concat.call(e.t0,e.t1),this.fromSpecificTask&&(this.files=this.files.filter((function(e){return"".concat(e.taskName)===i.includesFilesFrom})));case 20:if(!(this.files&&this.files.length>0)){e.next=42;break}return this.selectedFileId=null===(t=this.files[0])||void 0===t?void 0:t.id,this.selectedFileData=this.files.find((function(e){return e.id==i.selectedFileId})),this.selectedFileUrl=this.selectedFileData.url,e.next=26,this.fileService.getFile(this.selectedFileUrl);case 26:if(!(n=e.sent)){e.next=34;break}return e.next=30,this.fileService.readFile(n);case 30:this.selectedFileContent=e.sent,this.selectedFileContentType=n.type,e.next=36;break;case 34:return e.next=36,this.refreshFiles();case 36:this.Users=et(new Set(this.files.map((function(e){return"".concat(e.userFirstName," ").concat(e.userLastName)})))),this.Tasks=et(new Set(this.files.map((function(e){return e.taskName.trim()})))).filter((function(e){return e.length>0})),this.Names=et(new Set(this.files.map((function(e){return e.displayName.trim()})))).filter((function(e){return e.length>0})),this.filteredFiles=this.files,this.animateDetails(),this.fileService.accessToken="";case 42:this.isLoading=!1,this.requestUpdate();case 44:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"refreshFiles",value:(o=pt(dt().mark((function e(){var t,n,i,r,s,o=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(t=this.files.find((function(e){return e.url===url})))||void 0===t?void 0:t.fileName,e.prev=1,!this.fromStart){e.next=6;break}return e.next=5,this.fileService.getFilesStart(this.instanceId);case 5:this.files=e.sent;case 6:if(!this.fromTasks&&!this.fromSpecificTask){e.next=13;break}return e.t0=this.files,e.next=10,this.fileService.getFilesTasks(this.instanceId);case 10:e.t1=e.sent,this.files=e.t0.concat.call(e.t0,e.t1),this.fromSpecificTask&&(this.files=this.files.filter((function(e){return"".concat(e.taskName)===o.includesFilesFrom})));case 13:e.next=18;break;case 15:e.prev=15,e.t2=e.catch(1),console.error("PLUGIN-NACFilesViewer: There was a problem refreshing the files: ".concat(e.t2));case 18:return this.selectedFileUrl=null===(n=this.files.find((function(e){return e.fileName===r})))||void 0===n?void 0:n.url,this.selectedFileId=null===(i=this.files.find((function(e){return e.fileName===r})))||void 0===i?void 0:i.id,e.next=22,this.fileService.getFile(this.selectedFileUrl);case 22:if(!(s=e.sent)){e.next=28;break}return e.next=26,this.fileService.readFile(s);case 26:this.selectedFileContent=e.sent,this.selectedFileContentType=s.type;case 28:case"end":return e.stop()}}),e,this,[[1,15]])}))),function(){return o.apply(this,arguments)})},{key:"getFileTemplate",value:function(){if(!this.selectedFileUrl||!this.selectedFileContentType)return B(me||(me=Qe([""])));switch(this.selectedFileContentType){case"image/jpeg":case"image/png":return B(ge||(ge=Qe(['<img src="','" alt="Preview" width="','" height="','">'])),this.selectedFileContent,this.width,this.height);case"application/pdf":return B(ye||(ye=Qe(['<embed src="','" type="application/pdf" width="','" height="','">'])),this.selectedFileContent,this.width,this.height);case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":var e="https://view.officeapps.live.com/op/view.aspx?src="+encodeURIComponent(window.location.origin+this.selectedFileUrl);return B(we||(we=Qe(['<iframe src="','" width="','" height="','"></iframe>'])),e,this.width,this.height);case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":var t="https://view.officeapps.live.com/op/view.aspx?src="+encodeURIComponent(window.location.origin+this.selectedFileUrl);return B(be||(be=Qe(['<iframe src="','" width="','" height="','"></iframe>'])),t,this.width,this.height);case"application/vnd.openxmlformats-officedocument.presentationml.presentation":var n="https://view.officeapps.live.com/op/view.aspx?src="+encodeURIComponent(window.location.origin+this.selectedFileUrl);return B(xe||(xe=Qe(['<iframe src="','" width="','" height="','"></iframe>'])),n,this.width,this.height);default:return B(ke||(ke=Qe(['\n                <div class="fileTypeNotAvailable">\n                    <p>','</p>\n                    <a href="','" download="','">\n                        <span style="margin-right: 10px;">','</span>\n                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">\n                            <path fill-rule="evenodd" d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>\n                            <path fill-rule="evenodd" d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>\n                        </svg>\n                    </a>\n                </div>\n            '])),this.t("fileTypeNotAvailable"),window.location.origin+this.selectedFileUrl,this.selectedFileUrl.split("/").pop(),this.t("download"))}}},{key:"getAccessToken",value:(s=pt(dt().mark((function e(){var t,n,i,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.ancestorOrigins&&window.location.ancestorOrigins.length>0?window.location.ancestorOrigins[0]:window.location.origin,n=t+"/generate-token",e.next=4,fetch(n);case 4:return i=e.sent,e.next=7,i.json();case 7:return r=e.sent,e.abrupt("return",{access_token:r.token,apiURL:new URL(r.apiProvider).origin});case 9:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"handleFilterChange",value:(i=pt(dt().mark((function e(){var t,n,i=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isFileSelectionDisabled=!0,this.requestUpdate(),this.filteredFiles=this.files,this.selectedUser&&(this.filteredFiles=this.filteredFiles.filter((function(e){return"".concat(e.userFirstName," ").concat(e.userLastName)===i.selectedUser}))),this.selectedTask&&(this.filteredFiles=this.filteredFiles.filter((function(e){return"".concat(e.taskName)===i.selectedTask}))),this.updateFilterOptions(),!(this.filteredFiles.length>0)){e.next=26;break}if(0!==this.filteredFiles.filter((function(e){return"".concat(e.id)==i.selectedFileId})).length){e.next=24;break}return this.selectedFileId=null===(t=this.filteredFiles[0])||void 0===t?void 0:t.id,this.selectedFileData=this.files.find((function(e){return e.id==i.selectedFileId})),this.selectedFileUrl=this.selectedFileData.url,e.next=13,this.fileService.getFile(this.selectedFileUrl);case 13:if(!(n=e.sent)){e.next=22;break}return e.next=17,this.fileService.readFile(n);case 17:this.selectedFileContent=e.sent,this.selectedFileContentType=n.type,this.animateDetails(),e.next=24;break;case 22:return e.next=24,this.refreshFiles();case 24:e.next=29;break;case 26:this.selectedFileId=null,this.selectedFileData=null,this.selectedFileUrl=null;case 29:this.isFileSelectionDisabled=!1,this.requestUpdate();case 31:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"updateFilterOptions",value:function(){!this.selectedTask||this.selectedTask&&this.selectedUser||this.selectedUser?this.Tasks=et(new Set(this.filteredFiles.map((function(e){return e.taskName.trim()})))).filter((function(e){return e.length>0})):this.Tasks=et(new Set(this.files.map((function(e){return e.taskName.trim()})))).filter((function(e){return e.length>0})),!this.selectedUser||this.selectedTask&&this.selectedUser||this.selectedTask?this.Users=et(new Set(this.filteredFiles.map((function(e){return"".concat(e.userFirstName," ").concat(e.userLastName)})))):this.Users=et(new Set(this.files.map((function(e){return"".concat(e.userFirstName," ").concat(e.userLastName)}))))}},{key:"fileFilterPanel",value:function(){this.showFilterPanel=!this.showFilterPanel,this.requestUpdate()}},{key:"fileDetailPanel",value:function(){this.showDetailPanel=!this.showDetailPanel,this.requestUpdate()}},{key:"resetUserFilter",value:function(){this.selectedUser="",this.shadowRoot.querySelector("#nx-select-user").value="",this.handleFilterChange()}},{key:"resetTaskFilter",value:function(){this.selectedTask="",this.shadowRoot.querySelector("#nx-select-task").value="",this.handleFilterChange()}},{key:"animateDetails",value:function(){var e=this;this.animating="in",this.requestUpdate(),setTimeout((function(){e.animating="out",e.requestUpdate()}),3e3)}},{key:"render",value:function(){var e=this;if(this.instanceId){if(this.isLoading)return B($e||($e=Qe(['\n                <div id="spinner-container" class="spinner-container">\n                ',"\n                </div>\n            "])),this.isAuthorized?B(Fe||(Fe=Qe(['<div class="spinner"></div>']))):B(Se||(Se=Qe(['\n                    <div class="previewNotSupported">\n                        <p>\n                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="var(--ntx-form-theme-color-primary)" viewBox="0 0 16 16">\n                                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-1 1v4a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1zm.93 6.666a1.13 1.13 0 1 0-1.86 0 1.13 1.13 0 0 0 1.86 0z"/>\n                            </svg>\n                        </p>\n                        <p>',"</p>\n                    </div>\n                    "])),this.t("previewNotSupported")));if(this.files&&this.files.length){var t=B(Ne||(Ne=Qe(['\n            <svg viewBox="0 0 24 24" width="24" height="24" xmlns="http://www.w3.org/2000/svg">\n                <path d="M3,4L21,4L14,14V20L10,22V14L3,4Z" fill="var(--icon-color, var(--ntx-form-theme-color-primary))"></path>\n            </svg>\n            ']))),n=B(Ee||(Ee=Qe(['\n            <svg viewBox="0 0 24 24" width="24" height="24" xmlns="http://www.w3.org/2000/svg">\n                <path d="M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" fill="var(--ntx-form-theme-color-primary)"/>\n                <rect x="11" y="10" width="2" height="7" fill="var(--ntx-form-theme-color-primary)"/>\n                <circle cx="12" cy="7" r="1.5" fill="var(--ntx-form-theme-color-primary)"/>\n            </svg>\n            ']))),i=(B(Ue||(Ue=Qe(['\n                <svg viewBox="0 0 24 24" width="24" height="24" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" fill="var(--ntx-form-theme-color-primary)"/>\n                    <path d="M13 14.17V8h-2v6.17l-1.41-1.42-1.42 1.42L12 18l3.83-3.83-1.42-1.42L13 14.17z" fill="var(--ntx-form-theme-color-primary)"/>\n                </svg>\n            ']))),B(Ce||(Ce=Qe(['\n            <div class="select-with-button">           \n                ',"\n                \n                ","\n                ","\n                ","\n            </div>\n            "])),pe(this.selectedFileId,B(Pe||(Pe=Qe(['<select id="fileSelector" class="nx-select" @change='," .value="," ?disabled=",">\n                    ","\n                     </select>"])),this.handleFileChange,ve(this.selectedFileId),this.isFileSelectionDisabled,this.filteredFiles.map((function(t){return pe(e.selectedFileId,B(De||(De=Qe(["<option value="," ?selected=",">","</option>"])),t.id,t.id==e.selectedFileId,t.fileName))})))),this.fromTasks||this.fromSpecificTask?B(Oe||(Oe=Qe(['\n                <button class="nx-button filter-button" @click=',">\n                    ","                     \n                </button>\n                "])),this.fileFilterPanel,(this.showFilterPanel,t)):"",this.includesView?B(Le||(Le=Qe(['\n                <button class="nx-button detail-button" @click=',">\n                    ","                     \n                </button>\n                "])),this.fileDetailPanel,(this.showDetailPanel,n)):"",this.includesDownload?B(Ie||(Ie=Qe(['\n                <a class="nx-button detail-button" href="','" download="','">\n                    <svg viewBox="0 0 23 23" width="23" height="23" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" fill="var(--ntx-form-theme-color-primary)"/>\n                        <path d="M13 14.17V8h-2v6.17l-1.41-1.42-1.42 1.42L12 18l3.83-3.83-1.42-1.42L13 14.17z" fill="var(--ntx-form-theme-color-primary)"/>\n                    </svg>   \n                </a>\n                '])),window.location.origin+this.selectedFileUrl,this.selectedFileUrl.split("/").pop()):"")),r=this.includesView?B(Ve||(Ve=Qe([' \n            <div class="fileContent-container card">\n                ',"\n            </div>\n            "])),this.isFileSelectionDisabled?B(Be||(Be=Qe([' \n                    <div id="spinner-container" class="spinner-container"><div class="spinner"></div></div>\n                ']))):B(je||(je=Qe([' \n                    <div id="fileContent">',"</div>\n                    ","\n                "])),this.getFileTemplate(),this.includesView?B(He||(He=Qe(['\n                    <div class="fileDetails ','">\n                        <div>\n                            <p>'," "," ","\n                            ","\n                            </p>\n                            <p>",": ","</p>                    \n                        </div>\n                    </div>\n                    "])),this.selectedFileData&&this.showDetailPanel?"fileDetails-in":"fileDetails-out",this.t("submittedBy"),this.selectedFileData.userFirstName,this.selectedFileData.userLastName,this.selectedFileData.taskName?B(Me||(Me=Qe(["\n                            "," ","\n                            "])),this.t("fromTask"),this.selectedFileData.taskName):B(Re||(Re=Qe(["\n                            ","\n                            "])),this.t("fromStart")),this.t("category"),this.selectedFileData.displayName):"")):"",s=this.showFilterPanel?B(ze||(ze=Qe(['\n            <div class="filter-container">\n                ',"   \n            </div>\n            "])),this.fromTasks||this.fromSpecificTask?B(qe||(qe=Qe(['\n                <div class="filter-option">\n                    <label class="nx-form-label">',':\n                        <div class="select-with-button">\n                            ','\n                            <button class="nx-button reset-button" @click="','">\n                                <svg viewBox="0 0 24 24" width="24" height="24" xmlns="http://www.w3.org/2000/svg">\n                                    <path d="M9 3V4H4V6H5V19C5 20.1 5.9 21 7 21H17C18.1 21 19 20.1 19 19V6H20V4H15V3H9ZM7 6H17V19H7V6ZM9 8V17H11V8H9ZM13 8V17H15V8H13Z" fill="var(--ntx-form-theme-color-primary)"/>\n                                </svg>                       \n                            </button>\n                        </div>\n                    </label>\n                </div>\n                '," \n                "])),this.t("submittedBy"),pe(this.selectedUser,B(Ge||(Ge=Qe(['\n                            <select class="nx-select" id="nx-select-user"  @change='," .value="," ?disabled=",'>\n                                <option value="" ?selected=',"></option> \n                                ","                            \n                            </select>\n                            "])),this.handleUserFilterChange,ve(this.selectedUser),this.isFileSelectionDisabled,!this.selectedUser,this.Users.map((function(t){return pe(e.selectedUser,B(Ze||(Ze=Qe(["\n                                    <option value="," ?selected=",">","</option>"])),t,t===e.selectedUser,t))})))),this.resetUserFilter,this.fromSpecificTask?"":B(We||(We=Qe(['\n                <div class="filter-option">\n                    <label class="nx-form-label">',':\n                        <div class="select-with-button">\n                            ','\n                            <button class="nx-button reset-button" @click="','">\n                                <svg viewBox="0 0 24 24" width="24" height="24" xmlns="http://www.w3.org/2000/svg">\n                                    <path d="M9 3V4H4V6H5V19C5 20.1 5.9 21 7 21H17C18.1 21 19 20.1 19 19V6H20V4H15V3H9ZM7 6H17V19H7V6ZM9 8V17H11V8H9ZM13 8V17H15V8H13Z" fill="var(--ntx-form-theme-color-primary)"/>\n                                </svg>                       \n                            </button>\n                        </div>\n                    </label>\n                </div>   \n                '])),this.t("task"),pe(this.selectedTask,B(Ye||(Ye=Qe(['\n                            <select class="nx-select" id="nx-select-task" @change='," .value="," ?disabled=",'>\n                                <option value="" ?selected=',"></option> \n                                ","                              \n                            </select>\n                            "])),this.handleTaskFilterChange,ve(this.selectedTask),this.isFileSelectionDisabled,!this.selectedTask,this.Tasks.map((function(t){return pe(e.selectedTask,B(Ke||(Ke=Qe(["\n                                    <option value="," ?selected=",">","</option>"])),t,t===e.selectedTask,t))})))),this.resetTaskFilter)):""):"";return B(Je||(Je=Qe(['\n                <div id="file">\n                    <label class="nx-form-label">\n                        ',"\n                    </label>\n                </div>    \n                ","\n                ","\n            "])),i,s,r)}return B(Te||(Te=Qe(['\n                <div id="file" class="nx-form-label">\n                    <p>',"</p>\n                </div>\n            "])),this.messageIfNoFiles)}return B(Ae||(Ae=Qe(['\n            <div class="notification-block">\n                <p><strong>',":</strong> ","</p>\n                <ul>\n                    ","              \n                </ul>\n                <p>","</p>\n            </div>           \n            "])),this.t("notice"),this.t("noticeContent"),this.t("conditions").map((function(e){return B(_e||(_e=Qe(["<li>","</li>"])),e)})),this.t("pleaseAdjust"))}}],[{key:"getMetaConfig",value:function(){return{controlName:"NAC Files Viewer",fallbackDisableSubmit:!1,iconUrl:"",groupName:"Media",version:"1.0",description:"View files submitted on start and/or tasks.",properties:{lang:{type:"string",title:"Language",defaultValue:"en",enum:["en","fr","de","es"],showAsRadio:!1,verticalLayout:!0,description:"Only are supported the languages en, fr, de, es. By default, en is used."},width:{type:"string",title:"File Viewer Width",defaultValue:"100%"},height:{type:"string",title:"File Viewer Height",defaultValue:"600px"},instanceId:{type:"string",title:"Instance ID",description:"Instance ID of the workflow"},includesFilesFrom:{title:"Includes files from",type:"string",enum:["Start","Start and Tasks","Tasks"],showAsRadio:!1,verticalLayout:!0,defaultValue:"Start and Tasks",description:"To view files from a specific task only, use variable set to the value of the specific task name."},includesDownload:{title:"Includes download",type:"boolean",defaultValue:!0},includesView:{title:"Includes view",type:"boolean",defaultValue:!0},messageIfNoFiles:{type:"string",title:"Message if no files",description:"Message to display when no files were submitted"}},standardProperties:{fieldLabel:!0,description:!0}}}},{key:"styles",get:function(){return((e,...t)=>{const i=1===e.length?e[0]:t.reduce(((t,n,i)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[i+1]),e[0]);return new r(i,e,n)})(Xe||(Xe=Qe(['\n            :host {\n                display: block;\n            }\n            .nx-select {\n                background-color: #f9f9f9;\n                border: 1px solid var(--ntx-form-theme-color-border);\n                padding: 8px 12px;\n                border-radius: 4px;\n                font-size: 16px;\n                width:100%;\n            }\n            .nx-select:hover {\n                border-color: var(--ntx-form-theme-color-primary);\n            }\n            .nx-select:focus {\n                outline: none;\n                box-shadow: 0 0 5px rgba(0, 123, 255, .5);\n            }\n            div#file {\n                border: none;\n                padding-bottom: 5px;\n            }\n            div#fileContent {\n                width: calc(100% - 2px);\n                border: 1px solid var(--ntx-form-theme-color-border);\n            }\n            div#fileContent iframe, div#fileContent img {\n                display : block;\n                border: none;\n            }\n            .slide-container {\n                display: flex;\n                align-items: center;\n            }\n            .spinner-container {\n                position: absolute;\n                top: 0;\n                left: 0;\n                height: 100%;\n                width: 100%;\n                display: contents;\n                justify-content: center;\n                align-items: center;\n                background-color: rgba(255, 255, 255, 0.7); \n                z-index: 1000; \n            }\n            .spinner {\n                border: 4px solid rgba(0,0,0,.1);\n                width: 36px;\n                height: 36px;\n                border-radius: 50%;\n                border-left-color: var(--ntx-form-theme-color-primary);\n                animation: spin 1s infinite linear;\n                margin: auto;\n            }\n            @keyframes spin {\n                0%   { transform: rotate(0deg); }\n                100% { transform: rotate(360deg); }\n            }\n            .filter-option {\n                margin-bottom: 10px; /* or any space you want between filter options */\n            }\n            .select-with-button {\n                display: flex;\n                padding: 0;\n                margin:0;\n                border:0;\n                background: none;\n            }\n            .reset-button, .filter-button, .detail-button {\n                flex-shrink: 0;\n                padding: 5px;\n                margin: 0;\n                border: 0;\n                background: none;\n                width: auto;\n                height: auto;\n                float: right;\n            }\n            .fileContent-container {\n                position: relative;\n            }\n            .fileDetails {\n                position: absolute;\n                bottom: 0;\n                left: 0;\n                width: 100%;\n                background-color: rgba(0, 0, 0, 0.6);\n                opacity: 0.6;\n                color: "#ffffff";\n                box-sizing: border-box;\n                padding: 10px;\n                border-top: 1px solid #ccc;\n                color: white;\n                display:none;\n            }     \n            .fileDetails h3,\n            .fileDetails p {\n                margin: 5px 0;\n            }\n            @keyframes fadeOut {\n                from { opacity: 1; transform: translateY(0); }\n                to { opacity: 0; transform: translateY(20px); }\n            }\n            .fileDetails-out {\n                animation: fadeOut 0.3s ease forwards;\n                animation-fill-mode: forwards; \n                display:none;\n            }\n            @keyframes fadeIn {\n                from { opacity: 0; transform: translateY(20px); }\n                to { opacity: 1; transform: translateY(0); }\n            }\n            .fileDetails-in {\n                display: block; \n                animation: fadeIn 0.3s ease forwards;\n            }\n            .notification-block {\n                border-left: 4px solid #ff9800;\n                background-color: #fff3cd;\n                color: #856404;\n                padding: 20px;\n                margin: 20px 0;\n                border-radius: 5px;\n                box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n                }\n            .notification-block p {\n                margin: 10px 0;\n            }\n            .notification-block strong {\n                font-weight: bold;\n            }\n            .notification-block ul {\n                margin: 10px 0;\n                padding-left: 20px;\n            }\n            .fileTypeNotAvailable, .previewNotSupported {\n                text-align: center; \n                padding: 20px;\n            }\n            .fileTypeNotAvailable p, .previewNotSupported p {\n                color: var(--ntx-form-theme-color-primary); \n                font-weight: bold;\n            }\n            .fileTypeNotAvailable a {\n                display: inline-flex; \n                align-items: center; \n                padding: 10px 20px; \n                background-color: var(--ntx-form-theme-color-primary); \n                color: white; \n                text-decoration: none; \n                border-radius: 5px; \n                font-weight: bold;\n            }\n            .previewNotSupported svg {\n                display: block; \n                margin: auto;\n            }\n           \n        '])))}}]),t}(ae);at(xt,"properties",{width:{type:String},height:{type:String},instanceId:{type:String},messageIfNoFiles:{type:String},messageIfNotAuthorized:{type:String},includesView:{type:Boolean},includesDownload:{type:Boolean},includesFilesFrom:{type:String},isLoading:{type:Boolean},isFileSelectionDisabled:{type:Boolean},files:{type:Array},filteredFiles:{type:Array},isAuthorized:{type:Boolean},selectedFileId:{type:Number},selectedFileData:{type:Object},selectedFileUrl:{type:String},isDesigner:{type:Boolean},showFilterPanel:{type:Boolean},showDetailPanel:{type:Boolean},fromStart:{type:Boolean},fromTasks:{type:Boolean},lang:{type:String}}),customElements.define("plugin-nacfilesviewer",xt)})();